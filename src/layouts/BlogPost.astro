---
import BaseLayout from "./BaseLayout.astro";
import Giscus from "../components/Giscus.astro";

const { frontmatter } = Astro.props;
---

<BaseLayout title={frontmatter.title} description={frontmatter.description}>
  <article class="prose prose-lg dark:prose-invert max-w-none">
    <div class="mb-8 border-b border-gray-100 dark:border-gray-800 pb-8">
      <div class="mb-4">
        {
          frontmatter.tags && (
            <div class="flex flex-wrap gap-2">
              {frontmatter.tags.map((tag: string) => (
                <a
                  href={`/tags/${tag}`}
                  class="px-2 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-sm rounded-md hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors"
                >
                  #{tag}
                </a>
              ))}
            </div>
          )
        }
      </div>
      <h1
        class="mb-2 !text-4xl font-extrabold tracking-tight text-gray-900 dark:text-gray-100"
      >
        {frontmatter.title}
      </h1>
      <div class="text-gray-500 dark:text-gray-400">
        <time datetime={frontmatter.pubDate}
          >{
            new Date(frontmatter.pubDate).toLocaleDateString("zh-TW", {
              year: "numeric",
              month: "long",
              day: "numeric",
            })
          }</time
        >
      </div>
    </div>

    <slot />
  </article>

  <div class="mt-16 pt-8 border-t border-gray-100 dark:border-gray-800">
    <Giscus />
  </div>
</BaseLayout>
