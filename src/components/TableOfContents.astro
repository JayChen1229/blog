---
const { headings } = Astro.props;

interface Heading {
    depth: number;
    slug: string;
    text: string;
}
---

<nav class="toc sticky top-20">
    <h2
        class="text-gray-900 dark:text-gray-100 font-bold mb-4 text-sm uppercase tracking-wider"
    >
        目錄
    </h2>
    <ul
        class="space-y-2 text-sm border-l-2 border-gray-100 dark:border-gray-800 pl-4"
    >
        {
            headings.map((heading: Heading) => (
                <li
                    class={`toc-item depth-${heading.depth} ${heading.depth > 2 ? "ml-4" : ""}`}
                >
                    <a
                        href={`#${heading.slug}`}
                        class="block text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors py-1"
                    >
                        {heading.text}
                    </a>
                </li>
            ))
        }
    </ul>
</nav>
